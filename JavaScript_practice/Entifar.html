<!DOCTYPE html>
<html>
<head><title>Entifar</title>
<meta charset="utf-8"/>
<link rel="stylesheet" href="Entifar.css">
</head>
<body>

<div class="main-content">
        <div class="main-title">Entifar</div>
		<div class="btn-box">
				<button type="button" class="btn" id="move" onclick="displayNote('#729','1.6em')">Move</button>
				<button type="button" class="btn" id="progress" onclick="displayNote('#383','1.5em')">Progress</button>
				<button type="button" class="btn" id="setback" onclick="displayNote('#623','1.5em')">Setback</button>
				<button type="button" class="btn" id="chance" onclick="displayNote('#a93','1.5em')">Chance</button>
		</div>

		<div class="play-area">
			<div class="square sq-st" id="sq00">		 
				  <div class="square-label">Start</div>
				  <div class="marker" id="mark-00"></div>            			  
			</div>
			<div class="square sq-c" id="sq01">		 
				  <div class="square-label">Chance</div>
				  <div class="marker" id="mark-01"></div>			  
			</div>
			<div class="square sq-pr" id="sq02">		 
				  <div class="square-label">Progress</div>
				  <div class="marker" id="mark-02"></div>			   
			</div>
			<div class="square sq-se"  id="sq03">		 
				  <div class="square-label">Setback</div>
				  <div class="marker" id="mark-03"></div>			   
			</div>
			<div class="square sq-c" id="sq04">		 
				  <div class="square-label">Chance</div>
				  <div class="marker" id="mark-04"></div>			   
			</div>
			<div class="square sq-pr" id="sq05">		 
				  <div class="square-label">Progress</div>
				  <div class="marker" id="mark-05"></div>			   
			</div>		
			<div class="square sq-c" id="sq06">		 
				  <div class="square-label">Chance</div>
				  <div class="marker" id="mark-06"></div>			   
			</div>
			
			<div class="square sq-se" id="sq07">		 
				  <div class="square-label">Setback</div>
				  <div class="marker" id="mark-07"></div>            			  
			</div>
			<div class="square sq-pr" id="sq08">		 
				  <div class="square-label">Progress</div>
				  <div class="marker" id="mark-08"></div>			   
			</div>
			<div class="square sq-c" id="sq09">		 
				  <div class="square-label">Chance</div>
				  <div class="marker" id="mark-09"></div>			  
			</div>
			<div class="square sq-pr" id="sq10">		 
				  <div class="square-label">Progress</div>
				  <div class="marker" id="mark-10"></div>			   
			</div>
			<div class="square sq-se" id="sq11">		 
				  <div class="square-label">Setback</div>
				  <div class="marker" id="mark-11"></div>			   
			</div>
			<div class="square sq-c" id="sq12">		 
				  <div class="square-label">Chance</div>
				  <div class="marker" id="mark-12"></div>			   
			</div>
			<div class="square sq-se" id="sq13">		 
				  <div class="square-label">Setback</div>
				  <div class="marker" id="mark-13"></div>			   
			</div>
			
			<div class="square sq-pr" id="sq14">		 
				  <div class="square-label">Progress</div>
				  <div class="marker" id="mark-14"></div>			   
			</div>
			<div class="square sq-c" id="sq15">		 
				  <div class="square-label">Chance</div>
				  <div class="marker" id="mark-15"></div>			  
			</div>
			<div class="square sq-pr" id="sq16">		 
				  <div class="square-label">Progress</div>
				  <div class="marker" id="mark-16"></div>			   
			</div>
			<div class="square sq-c" id="sq17">		 
				  <div class="square-label">Chance</div>
				  <div class="marker" id="mark-17"></div>			   
			</div>
			<div class="square sq-se" id="sq18">		 
				  <div class="square-label">Setback</div>
				  <div class="marker" id="mark-18"></div>			   
			</div>
			<div class="square sq-c" id="sq19">		 
				  <div class="square-label">Chance</div>
				  <div class="marker" id="mark-19"></div>			   
			</div>
			<div class="square sq-st" id="sq20">		 
				  <div class="square-label">End</div>
				  <div class="marker" id="mark-20"></div>			   
			</div>
			
		</div>
</div>
<div class="popup" id="popup">
	  <div class="x" onclick="hideNote()">&times;</div>	
	  <div style="clear:both"></div>
	  <div class="note" id="note">test</div>
</div>
<script>
var prevMarkerId = "mark-00";

var moves = ["Please move 1 square and click the matching button.", "Please move 2 squares and click the matching button.", "Please move 3 squares and click the matching button."];
var progress = ["Something from a paper that you read ten years ago helped you to solve a big problem. Move forward 3 squares.",
                "A much wanted new piece of equipment arrived at your lab. Move forward 2 squares.",
				"Someone you ate with at lunch reccomended a useful website for researchers. Move forward 1 square.",
				"Your latest test results were quite promising. Move forward 2 squares.",                
				"Someone at a conference spoke respectfully about your research. Move forward 3 squares."
                ]; 
var setbacks = ["The lab equipment was calibrated wrongly for your last two test runs. Go back 2 squares.",
             "A misunderstanding has caused a quarrel between you and another researcher. Move back 1 square.",
				"You forgot to acknowledge someone properly in a public speech. Move back 2 squares.",
				"Funding for your project has been delayed by a month. Move back 2 squares.",
				"You accidentally overwrote a file that hadn't been backed up yet. Move back 2 squares.",
                   "Vandals broke into your lab and smashed your computer. Move back 4 squares.",
                "Someone else took credit for some of your work. Move back 2 squares.",
              "A hacker broke into your account and messed up new data that wasn't backed up yet. Move back 3 squares."
             ]; 
var chance = ["Noisy construction is going on outside your lab. Move back 2 squares.",
              "A favourite article of clothing got torn while you were working in the lab. Move back 2 squares.",
                "You had a wonderful time at a workplace social gathering. Move forward 2 squares.",
               "You spilled your drink on a favourite reference book. Move back 2 squares.",
			   "A good friend of yours now works just one floor above you. Move forward 2 squares.",
			   "Better food is now available in your workplace. Move forward 2 squares."
          ];

var squares = [{id: "sq00", markerId: "mark-00"}, {id: "sq01", markerId: "mark-01"}, {id: "sq02", markerId: "mark-02"},
               {id: "sq03", markerId: "mark-03"}, {id: "sq04", markerId: "mark-04"}, {id: "sq05", markerId: "mark-05"},
               {id: "sq06", markerId: "mark-06"}, {id: "sq07", markerId: "mark-07"}, {id: "sq08", markerId: "mark-08"},
               {id: "sq09", markerId: "mark-09"}, {id: "sq10", markerId: "mark-10"}, {id: "sq11", markerId: "mark-11"},
               {id: "sq12", markerId: "mark-12"}, {id: "sq13", markerId: "mark-13"}, {id: "sq14", markerId: "mark-14"},
               {id: "sq15", markerId: "mark-15"}, {id: "sq16", markerId: "mark-16"}, {id: "sq17", markerId: "mark-17"},
               {id: "sq18", markerId: "mark-18"}, {id: "sq19", markerId: "mark-19"}, {id: "sq20", markerId: "mark-20"}
               ];

var squaresAll = document.querySelectorAll(".square");


for(var i = 0; i < squaresAll.length; i++){
  document.getElementById(squaresAll[i].id).addEventListener("click", function() {
  var squareId = this.id;
  var index = squareId.substring(2)
  var indexTrimmed = parseInt(index,10);
  var markerId = squares[indexTrimmed].markerId;
  document.getElementById(prevMarkerId).style.display = "none";
  prevMarkerId = markerId;
  document.getElementById(markerId).style.display = "inline-block";
  hideNote();
  if(markerId === "mark-20"){
      displayNote("#528","1.8em");
  }
  });
}


function displayNote(colour, fontsize){      
      document.getElementById("popup").style.display = "inline-block";
	  document.getElementById("popup").style.backgroundColor = colour;
	  document.getElementById("note").style.fontSize = fontsize;  
	  
	  if(colour === '#729'){
	        var move = Math.floor(Math.random() * moves.length);
			document.getElementById("note").innerHTML = moves[move];
	  }
	  else if(colour === '#383'){
	        var pro = Math.floor(Math.random() * progress.length);
			document.getElementById("note").innerHTML = progress[pro];
	  }
	  else if(colour === '#623'){
	        var set = Math.floor(Math.random() * setbacks.length);
			document.getElementById("note").innerHTML = setbacks[set];
	  }
	  else if(colour === '#a93'){
	        var cha = Math.floor(Math.random() * chance.length);
			document.getElementById("note").innerHTML = chance[cha];
	  }
          else{
               document.getElementById("note").innerHTML = "Well done! You have completed your paper and the science community likes it!";
          }
}
function hideNote(){
    // alert('in function');
	document.getElementById("popup").style.display = "none";
}       
</script>
</body>